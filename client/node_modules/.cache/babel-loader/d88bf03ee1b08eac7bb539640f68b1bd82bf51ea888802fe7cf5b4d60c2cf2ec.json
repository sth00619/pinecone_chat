{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\song\\\\Documents\\\\GitHub\\\\seoultech_chat\\\\client\\\\src\\\\components\\\\chat\\\\MessageList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport Loading from '../../common/Loading';\nimport { Bot, User } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageList = ({\n  messages,\n  loading,\n  currentUser\n}) => {\n  _s();\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const formatTime = dateString => {\n    if (!dateString) return new Date().toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    return new Date(dateString).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (messages.length === 0 && !loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-list-empty\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(Bot, {\n          size: 64,\n          className: \"empty-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uC544\\uB798\\uC5D0 \\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uBA74 AI\\uAC00 \\uB2F5\\uBCC0\\uD574\\uB4DC\\uB9BD\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-list\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-container\",\n      children: [messages.map((message, index) => {\n        var _currentUser$username, _currentUser$username2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${message.role === 'user' ? 'user-message' : 'bot-message'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-avatar\",\n            children: message.role === 'user' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-avatar\",\n              children: (currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$username = currentUser.username) === null || _currentUser$username === void 0 ? void 0 : (_currentUser$username2 = _currentUser$username.charAt(0)) === null || _currentUser$username2 === void 0 ? void 0 : _currentUser$username2.toUpperCase()) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bot-avatar\",\n              children: /*#__PURE__*/_jsxDEV(Bot, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-sender\",\n                children: message.role === 'user' ? (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username) || '사용자' : 'SeoulTech Bot'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: formatTime(message.created_at)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-body\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: message.content || message.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, `${message.id || index}-${message.role}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this);\n      }), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message bot-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-avatar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bot-avatar\",\n            children: /*#__PURE__*/_jsxDEV(Bot, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-header\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"message-sender\",\n              children: \"SeoulTech Bot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-body\",\n            children: /*#__PURE__*/_jsxDEV(Loading, {\n              size: \"small\",\n              text: \"\\uB2F5\\uBCC0\\uC744 \\uC0DD\\uC131 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageList, \"0epSoi03NVSoD0I0FiLK4iVNXOA=\");\n_c = MessageList;\nexport default MessageList;\nvar _c;\n$RefreshReg$(_c, \"MessageList\");","map":{"version":3,"names":["React","useEffect","useRef","Loading","Bot","User","jsxDEV","_jsxDEV","MessageList","messages","loading","currentUser","_s","messagesEndRef","_messagesEndRef$curre","current","scrollIntoView","behavior","formatTime","dateString","Date","toLocaleTimeString","hour","minute","length","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","map","message","index","_currentUser$username","_currentUser$username2","role","username","charAt","toUpperCase","created_at","content","text","id","ref","_c","$RefreshReg$"],"sources":["C:/Users/song/Documents/GitHub/seoultech_chat/client/src/components/chat/MessageList.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport Loading from '../../common/Loading';\r\nimport { Bot, User } from 'lucide-react';\r\n\r\nconst MessageList = ({ messages, loading, currentUser }) => {\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const formatTime = (dateString) => {\r\n    if (!dateString) return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    return new Date(dateString).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  if (messages.length === 0 && !loading) {\r\n    return (\r\n      <div className=\"message-list-empty\">\r\n        <div className=\"empty-state\">\r\n          <Bot size={64} className=\"empty-icon\" />\r\n          <h3>대화를 시작해보세요!</h3>\r\n          <p>아래에 메시지를 입력하면 AI가 답변해드립니다.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"message-list\">\r\n      <div className=\"messages-container\">\r\n        {messages.map((message, index) => (\r\n          <div\r\n            key={`${message.id || index}-${message.role}`}\r\n            className={`message ${message.role === 'user' ? 'user-message' : 'bot-message'}`}\r\n          >\r\n            <div className=\"message-avatar\">\r\n              {message.role === 'user' ? (\r\n                <div className=\"user-avatar\">\r\n                  {currentUser?.username?.charAt(0)?.toUpperCase() || 'U'}\r\n                </div>\r\n              ) : (\r\n                <div className=\"bot-avatar\">\r\n                  <Bot size={20} />\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"message-content\">\r\n              <div className=\"message-header\">\r\n                <span className=\"message-sender\">\r\n                  {message.role === 'user' ? currentUser?.username || '사용자' : 'SeoulTech Bot'}\r\n                </span>\r\n                <span className=\"message-time\">\r\n                  {formatTime(message.created_at)}\r\n                </span>\r\n              </div>\r\n              <div className=\"message-body\">\r\n                <p>{message.content || message.text}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        \r\n        {loading && (\r\n          <div className=\"message bot-message\">\r\n            <div className=\"message-avatar\">\r\n              <div className=\"bot-avatar\">\r\n                <Bot size={20} />\r\n              </div>\r\n            </div>\r\n            <div className=\"message-content\">\r\n              <div className=\"message-header\">\r\n                <span className=\"message-sender\">SeoulTech Bot</span>\r\n              </div>\r\n              <div className=\"message-body\">\r\n                <Loading size=\"small\" text=\"답변을 생성 중...\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}