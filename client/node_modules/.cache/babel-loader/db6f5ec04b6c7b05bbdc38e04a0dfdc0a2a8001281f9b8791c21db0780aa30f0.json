{"ast":null,"code":"var _jsxFileName = \"/Users/songtaeho/Documents/GitHub/pinecone_chat/client/src/components/pages/ChatPage.js\",\n  _s = $RefreshSig$();\n// client/src/components/pages/ChatPage.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useChat } from '../../hooks/useChat';\nimport Layout from '../../common/Layout';\nimport Loading from '../../common/Loading';\nimport ErrorMessage from '../../common/ErrorMessage';\nimport Modal from '../../common/Modal';\nimport PersonalInfoManager from '../PersonalInfoManager';\nimport { Send, Menu, MessageCircle, Plus, Search, MoreVertical, Trash2, Edit3, Clock, X, Download, Upload, Settings, Info, User } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const {\n    chatRooms,\n    currentChatRoom,\n    messages,\n    loading,\n    error,\n    loadChatRooms,\n    createChatRoom,\n    selectChatRoom,\n    sendMessage,\n    updateChatRoomTitle,\n    deleteChatRoom,\n    clearError\n  } = useChat();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const [messageInput, setMessageInput] = useState('');\n  const [isNewChatModalOpen, setIsNewChatModalOpen] = useState(false);\n  const [newChatTitle, setNewChatTitle] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [editingTitle, setEditingTitle] = useState(null);\n  const [newTitle, setNewTitle] = useState('');\n  const [showPersonalInfo, setShowPersonalInfo] = useState(false);\n  const messagesEndRef = useRef(null);\n  const messageInputRef = useRef(null);\n\n  // messages가 배열인지 확인하고 안전한 기본값 제공\n  const safeMessages = Array.isArray(messages) ? messages : [];\n  const safeChatRooms = Array.isArray(chatRooms) ? chatRooms : [];\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    if (user !== null && user !== void 0 && user.id) {\n      loadChatRooms(user.id);\n    }\n  }, [isAuthenticated, user, navigate]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [safeMessages]); // safeMessages 사용\n\n  useEffect(() => {\n    // 컴포넌트가 마운트될 때 외부 클릭으로 설정 메뉴 닫기\n    const handleClickOutside = event => {\n      if (isSettingsOpen && !event.target.closest('.chat-header-right')) {\n        setIsSettingsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isSettingsOpen]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleCreateChatRoom = async () => {\n    if (!(user !== null && user !== void 0 && user.id)) return;\n    try {\n      const title = newChatTitle.trim() || '새로운 채팅';\n      const newRoom = await createChatRoom(user.id, title);\n      setNewChatTitle('');\n      setIsNewChatModalOpen(false);\n      await selectChatRoom(newRoom);\n    } catch (error) {\n      console.error('Failed to create chat room:', error);\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!messageInput.trim() || !currentChatRoom) return;\n    try {\n      var _messageInputRef$curr;\n      await sendMessage(messageInput.trim());\n      setMessageInput('');\n      (_messageInputRef$curr = messageInputRef.current) === null || _messageInputRef$curr === void 0 ? void 0 : _messageInputRef$curr.focus();\n    } catch (error) {\n      console.error('Failed to send message:', error);\n    }\n  };\n  const handleDeleteChatRoom = async chatRoomId => {\n    if (window.confirm('정말로 이 채팅방을 삭제하시겠습니까?')) {\n      try {\n        await deleteChatRoom(chatRoomId);\n      } catch (error) {\n        console.error('Failed to delete chat room:', error);\n      }\n    }\n  };\n  const handleUpdateTitle = async chatRoomId => {\n    if (newTitle.trim() && newTitle !== editingTitle) {\n      try {\n        await updateChatRoomTitle(chatRoomId, newTitle.trim());\n        setEditingTitle(null);\n        setNewTitle('');\n      } catch (error) {\n        console.error('Failed to update title:', error);\n      }\n    } else {\n      // 수정 취소\n      setEditingTitle(null);\n      setNewTitle('');\n    }\n  };\n  const handleKeyPressInTextarea = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage(e);\n    }\n  };\n  const filteredChatRooms = safeChatRooms.filter(room => room.title && room.title.toLowerCase().includes(searchQuery.toLowerCase()));\n\n  // 디버깅을 위한 로그 (개발 환경에서만)\n  if (process.env.NODE_ENV === 'development') {\n    console.log('Messages type:', typeof messages, 'Is array:', Array.isArray(messages), 'Value:', messages);\n    console.log('ChatRooms type:', typeof chatRooms, 'Is array:', Array.isArray(chatRooms), 'Value:', chatRooms);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    showFooter: false,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-room\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-sidebar ${isSidebarOpen ? 'open' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uCC44\\uD305 \\uBAA9\\uB85D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"sidebar-close\",\n              onClick: () => setIsSidebarOpen(false),\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary btn-full-width\",\n              onClick: () => setIsNewChatModalOpen(true),\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uC0C8 \\uCC44\\uD305 \\uC2DC\\uC791\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-search\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-input-group\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                size: 16,\n                className: \"search-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\uCC44\\uD305\\uBC29 \\uAC80\\uC0C9...\",\n                value: searchQuery,\n                onChange: e => setSearchQuery(e.target.value),\n                className: \"search-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-content\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-list-loading\",\n              children: /*#__PURE__*/_jsxDEV(Loading, {\n                size: \"small\",\n                text: \"\\uB85C\\uB529 \\uC911...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this) : filteredChatRooms.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-list-empty\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                size: 48,\n                className: \"empty-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uCC44\\uD305\\uBC29\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\uC0C8\\uB85C\\uC6B4 \\uCC44\\uD305\\uC744 \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-list\",\n              children: filteredChatRooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `chat-list-item ${(currentChatRoom === null || currentChatRoom === void 0 ? void 0 : currentChatRoom.id) === room.id ? 'active' : ''}`,\n                onClick: () => selectChatRoom(room),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-item-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chat-item-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"chat-item-title\",\n                      children: room.title || '제목 없음'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"chat-item-time\",\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 230,\n                        columnNumber: 29\n                      }, this), room.updated_at ? new Date(room.updated_at).toLocaleDateString() : '']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 25\n                  }, this), room.last_message && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"chat-item-preview\",\n                    children: room.last_message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MessageCircle, {\n                  size: 16,\n                  className: \"chat-item-indicator\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 23\n                }, this)]\n              }, room.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-main ${isSidebarOpen ? 'sidebar-open' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"sidebar-toggle\",\n                onClick: () => setIsSidebarOpen(!isSidebarOpen),\n                children: /*#__PURE__*/_jsxDEV(Menu, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-title\",\n                children: currentChatRoom ? editingTitle === currentChatRoom.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newTitle,\n                  onChange: e => setNewTitle(e.target.value),\n                  onBlur: () => handleUpdateTitle(currentChatRoom.id),\n                  onKeyPress: e => {\n                    if (e.key === 'Enter') {\n                      handleUpdateTitle(currentChatRoom.id);\n                    } else if (e.key === 'Escape') {\n                      setEditingTitle(null);\n                      setNewTitle('');\n                    }\n                  },\n                  className: \"form-input\",\n                  autoFocus: true,\n                  placeholder: \"\\uCC44\\uD305\\uBC29 \\uC81C\\uBAA9 \\uC785\\uB825\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: currentChatRoom.title || '제목 없음'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"chat-subtitle\",\n                    children: \"AI \\uC5B4\\uC2DC\\uC2A4\\uD134\\uD2B8\\uC640 \\uB300\\uD654 \\uC911\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\uCC44\\uD305\\uBC29\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-right\",\n              children: currentChatRoom && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"chat-settings\",\n                  onClick: () => setShowPersonalInfo(!showPersonalInfo),\n                  title: \"\\uAC1C\\uC778\\uC815\\uBCF4 \\uAD00\\uB9AC\",\n                  children: /*#__PURE__*/_jsxDEV(User, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"chat-settings\",\n                  onClick: () => setIsSettingsOpen(!isSettingsOpen),\n                  children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this), isSettingsOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"settings-dropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dropdown-item\",\n                    onClick: () => {\n                      setEditingTitle(currentChatRoom.id);\n                      setNewTitle(currentChatRoom.title || '');\n                      setIsSettingsOpen(false);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 27\n                    }, this), \"\\uC81C\\uBAA9 \\uC218\\uC815\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dropdown-item disabled\",\n                    children: [/*#__PURE__*/_jsxDEV(Download, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 27\n                    }, this), \"\\uB300\\uD654 \\uB0B4\\uBCF4\\uB0B4\\uAE30\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dropdown-divider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dropdown-item danger\",\n                    onClick: () => {\n                      handleDeleteChatRoom(currentChatRoom.id);\n                      setIsSettingsOpen(false);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 27\n                    }, this), \"\\uCC44\\uD305\\uBC29 \\uC0AD\\uC81C\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-content\",\n            children: showPersonalInfo && user ? /*#__PURE__*/_jsxDEV(PersonalInfoManager, {\n              userId: user.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this) : currentChatRoom ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-list\",\n              children: [safeMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-list-empty\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"empty-state\",\n                  children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                    size: 48,\n                    className: \"empty-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\uAD81\\uAE08\\uD55C \\uC810\\uC774 \\uC788\\uC73C\\uC2DC\\uBA74 \\uBB34\\uC5C7\\uC774\\uB4E0 \\uBB3C\\uC5B4\\uBCF4\\uC138\\uC694.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"messages-container\",\n                children: [safeMessages.map((message, index) => {\n                  var _user$username;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `message ${message.role === 'user' ? 'user-message' : 'bot-message'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `message-avatar ${message.role === 'user' ? 'user-avatar' : 'bot-avatar'}`,\n                      children: message.role === 'user' ? (user === null || user === void 0 ? void 0 : (_user$username = user.username) === null || _user$username === void 0 ? void 0 : _user$username.charAt(0).toUpperCase()) || 'U' : 'AI'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"message-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"message-header\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"message-sender\",\n                          children: message.role === 'user' ? (user === null || user === void 0 ? void 0 : user.username) || '사용자' : 'AI Assistant'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 366,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"message-time\",\n                          children: message.created_at ? new Date(message.created_at).toLocaleTimeString() : new Date().toLocaleTimeString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 372,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"message-body\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: message.content || ''\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 380,\n                          columnNumber: 31\n                        }, this), message.hasPersonalContext && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"personal-context-indicator\",\n                          children: \"\\uD83D\\uDCA1 \\uAC1C\\uC778\\uC815\\uBCF4\\uB97C \\uCC38\\uACE0\\uD558\\uC5EC \\uB2F5\\uBCC0\\uD588\\uC2B5\\uB2C8\\uB2E4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 382,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 379,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 27\n                    }, this)]\n                  }, message.id || `message-${index}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 25\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: messagesEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this), currentChatRoom && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-input-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: handleSendMessage,\n                  className: \"message-input-form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input-actions-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"input-action-btn\",\n                      disabled: true,\n                      children: /*#__PURE__*/_jsxDEV(Upload, {\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-input-wrapper\",\n                    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      ref: messageInputRef,\n                      value: messageInput,\n                      onChange: e => setMessageInput(e.target.value),\n                      onKeyPress: handleKeyPressInTextarea,\n                      placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n                      className: \"message-textarea\",\n                      rows: \"1\",\n                      disabled: loading\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input-actions-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"input-action-btn\",\n                      disabled: !messageInput.trim() || loading,\n                      children: /*#__PURE__*/_jsxDEV(Send, {\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-help-text\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Enter\\uB85C \\uC804\\uC1A1, Shift+Enter\\uB85C \\uC904\\uBC14\\uAFC8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-welcome\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"welcome-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"welcome-icon\",\n                  children: \"\\uD83E\\uDD16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"SeoulTech AI Assistant\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uC11C\\uC6B8\\uACFC\\uD559\\uAE30\\uC220\\uB300\\uD559\\uAD50\\uC5D0 \\uB300\\uD574 \\uAD81\\uAE08\\uD55C \\uC810\\uC774 \\uC788\\uC73C\\uC2E0\\uAC00\\uC694?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uCC44\\uD305\\uBC29\\uC744 \\uC120\\uD0DD\\uD558\\uAC70\\uB098 \\uC0C8\\uB85C\\uC6B4 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isNewChatModalOpen,\n        onClose: () => setIsNewChatModalOpen(false),\n        title: \"\\uC0C8 \\uCC44\\uD305 \\uC2DC\\uC791\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleCreateChatRoom();\n          },\n          className: \"new-chat-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uCC44\\uD305\\uBC29 \\uC81C\\uBAA9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newChatTitle,\n              onChange: e => setNewChatTitle(e.target.value),\n              placeholder: \"\\uC608: \\uD559\\uACFC \\uC815\\uBCF4 \\uBB38\\uC758\",\n              className: \"form-input\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"\\uCC44\\uD305 \\uC2DC\\uC791\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-ghost\",\n              onClick: () => setIsNewChatModalOpen(false),\n              children: \"\\uCDE8\\uC18C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        error: error,\n        onClose: clearError,\n        type: \"error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"Or82JXp7L8xdcEvKNVJeFSyJvyY=\", false, function () {\n  return [useNavigate, useAuth, useChat];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useAuth","useChat","Layout","Loading","ErrorMessage","Modal","PersonalInfoManager","Send","Menu","MessageCircle","Plus","Search","MoreVertical","Trash2","Edit3","Clock","X","Download","Upload","Settings","Info","User","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatPage","_s","navigate","user","isAuthenticated","chatRooms","currentChatRoom","messages","loading","error","loadChatRooms","createChatRoom","selectChatRoom","sendMessage","updateChatRoomTitle","deleteChatRoom","clearError","isSidebarOpen","setIsSidebarOpen","messageInput","setMessageInput","isNewChatModalOpen","setIsNewChatModalOpen","newChatTitle","setNewChatTitle","searchQuery","setSearchQuery","isSettingsOpen","setIsSettingsOpen","editingTitle","setEditingTitle","newTitle","setNewTitle","showPersonalInfo","setShowPersonalInfo","messagesEndRef","messageInputRef","safeMessages","Array","isArray","safeChatRooms","id","scrollToBottom","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","_messagesEndRef$curre","current","scrollIntoView","behavior","handleCreateChatRoom","title","trim","newRoom","console","handleSendMessage","e","preventDefault","_messageInputRef$curr","focus","handleDeleteChatRoom","chatRoomId","window","confirm","handleUpdateTitle","handleKeyPressInTextarea","key","shiftKey","filteredChatRooms","filter","room","toLowerCase","includes","process","env","NODE_ENV","log","showFooter","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","type","placeholder","value","onChange","text","length","map","updated_at","Date","toLocaleDateString","last_message","onBlur","onKeyPress","autoFocus","userId","message","index","_user$username","role","username","charAt","toUpperCase","created_at","toLocaleTimeString","content","hasPersonalContext","ref","onSubmit","disabled","rows","isOpen","onClose","_c","$RefreshReg$"],"sources":["/Users/songtaeho/Documents/GitHub/pinecone_chat/client/src/components/pages/ChatPage.js"],"sourcesContent":["// client/src/components/pages/ChatPage.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useChat } from '../../hooks/useChat';\nimport Layout from '../../common/Layout';\nimport Loading from '../../common/Loading';\nimport ErrorMessage from '../../common/ErrorMessage';\nimport Modal from '../../common/Modal';\nimport PersonalInfoManager from '../PersonalInfoManager';\nimport { \n  Send, \n  Menu, \n  MessageCircle, \n  Plus, \n  Search, \n  MoreVertical, \n  Trash2, \n  Edit3, \n  Clock,\n  X,\n  Download,\n  Upload,\n  Settings,\n  Info,\n  User\n} from 'lucide-react';\n\nconst ChatPage = () => {\n  const navigate = useNavigate();\n  const { user, isAuthenticated } = useAuth();\n  const { \n    chatRooms, \n    currentChatRoom, \n    messages, \n    loading, \n    error,\n    loadChatRooms,\n    createChatRoom,\n    selectChatRoom,\n    sendMessage,\n    updateChatRoomTitle,\n    deleteChatRoom,\n    clearError\n  } = useChat();\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const [messageInput, setMessageInput] = useState('');\n  const [isNewChatModalOpen, setIsNewChatModalOpen] = useState(false);\n  const [newChatTitle, setNewChatTitle] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [editingTitle, setEditingTitle] = useState(null);\n  const [newTitle, setNewTitle] = useState('');\n  const [showPersonalInfo, setShowPersonalInfo] = useState(false);\n  \n  const messagesEndRef = useRef(null);\n  const messageInputRef = useRef(null);\n\n  // messages가 배열인지 확인하고 안전한 기본값 제공\n  const safeMessages = Array.isArray(messages) ? messages : [];\n  const safeChatRooms = Array.isArray(chatRooms) ? chatRooms : [];\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    \n    if (user?.id) {\n      loadChatRooms(user.id);\n    }\n  }, [isAuthenticated, user, navigate]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [safeMessages]); // safeMessages 사용\n\n  useEffect(() => {\n    // 컴포넌트가 마운트될 때 외부 클릭으로 설정 메뉴 닫기\n    const handleClickOutside = (event) => {\n      if (isSettingsOpen && !event.target.closest('.chat-header-right')) {\n        setIsSettingsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isSettingsOpen]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const handleCreateChatRoom = async () => {\n    if (!user?.id) return;\n    \n    try {\n      const title = newChatTitle.trim() || '새로운 채팅';\n      const newRoom = await createChatRoom(user.id, title);\n      setNewChatTitle('');\n      setIsNewChatModalOpen(false);\n      await selectChatRoom(newRoom);\n    } catch (error) {\n      console.error('Failed to create chat room:', error);\n    }\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    \n    if (!messageInput.trim() || !currentChatRoom) return;\n    \n    try {\n      await sendMessage(messageInput.trim());\n      setMessageInput('');\n      messageInputRef.current?.focus();\n    } catch (error) {\n      console.error('Failed to send message:', error);\n    }\n  };\n\n  const handleDeleteChatRoom = async (chatRoomId) => {\n    if (window.confirm('정말로 이 채팅방을 삭제하시겠습니까?')) {\n      try {\n        await deleteChatRoom(chatRoomId);\n      } catch (error) {\n        console.error('Failed to delete chat room:', error);\n      }\n    }\n  };\n\n  const handleUpdateTitle = async (chatRoomId) => {\n    if (newTitle.trim() && newTitle !== editingTitle) {\n      try {\n        await updateChatRoomTitle(chatRoomId, newTitle.trim());\n        setEditingTitle(null);\n        setNewTitle('');\n      } catch (error) {\n        console.error('Failed to update title:', error);\n      }\n    } else {\n      // 수정 취소\n      setEditingTitle(null);\n      setNewTitle('');\n    }\n  };\n\n  const handleKeyPressInTextarea = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage(e);\n    }\n  };\n\n  const filteredChatRooms = safeChatRooms.filter(room => \n    room.title && room.title.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  // 디버깅을 위한 로그 (개발 환경에서만)\n  if (process.env.NODE_ENV === 'development') {\n    console.log('Messages type:', typeof messages, 'Is array:', Array.isArray(messages), 'Value:', messages);\n    console.log('ChatRooms type:', typeof chatRooms, 'Is array:', Array.isArray(chatRooms), 'Value:', chatRooms);\n  }\n\n  return (\n    <Layout showFooter={false}>\n      <div className=\"chat-page\">\n        <div className=\"chat-room\">\n          {/* Sidebar */}\n          <div className={`chat-sidebar ${isSidebarOpen ? 'open' : ''}`}>\n            <div className=\"sidebar-header\">\n              <h3>채팅 목록</h3>\n              <button \n                className=\"sidebar-close\"\n                onClick={() => setIsSidebarOpen(false)}\n              >\n                <X size={20} />\n              </button>\n            </div>\n\n            <div className=\"sidebar-actions\">\n              <button \n                className=\"btn btn-primary btn-full-width\"\n                onClick={() => setIsNewChatModalOpen(true)}\n              >\n                <Plus size={16} />\n                <span>새 채팅 시작</span>\n              </button>\n            </div>\n\n            <div className=\"sidebar-search\">\n              <div className=\"search-input-group\">\n                <Search size={16} className=\"search-icon\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"채팅방 검색...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"search-input\"\n                />\n              </div>\n            </div>\n\n            <div className=\"sidebar-content\">\n              {loading ? (\n                <div className=\"chat-list-loading\">\n                  <Loading size=\"small\" text=\"로딩 중...\" />\n                </div>\n              ) : filteredChatRooms.length === 0 ? (\n                <div className=\"chat-list-empty\">\n                  <MessageCircle size={48} className=\"empty-icon\" />\n                  <h4>채팅방이 없습니다</h4>\n                  <p>새로운 채팅을 시작해보세요!</p>\n                </div>\n              ) : (\n                <div className=\"chat-list\">\n                  {filteredChatRooms.map(room => (\n                    <div\n                      key={room.id}\n                      className={`chat-list-item ${currentChatRoom?.id === room.id ? 'active' : ''}`}\n                      onClick={() => selectChatRoom(room)}\n                    >\n                      <div className=\"chat-item-content\">\n                        <div className=\"chat-item-header\">\n                          <h4 className=\"chat-item-title\">{room.title || '제목 없음'}</h4>\n                          <span className=\"chat-item-time\">\n                            <Clock size={12} />\n                            {room.updated_at ? new Date(room.updated_at).toLocaleDateString() : ''}\n                          </span>\n                        </div>\n                        {room.last_message && (\n                          <p className=\"chat-item-preview\">{room.last_message}</p>\n                        )}\n                      </div>\n                      <MessageCircle size={16} className=\"chat-item-indicator\" />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Main Chat Area */}\n          <div className={`chat-main ${isSidebarOpen ? 'sidebar-open' : ''}`}>\n            <div className=\"chat-header\">\n              <div className=\"chat-header-left\">\n                <button \n                  className=\"sidebar-toggle\"\n                  onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                >\n                  <Menu size={20} />\n                </button>\n                <div className=\"chat-title\">\n                  {currentChatRoom ? (\n                    editingTitle === currentChatRoom.id ? (\n                      <input\n                        type=\"text\"\n                        value={newTitle}\n                        onChange={(e) => setNewTitle(e.target.value)}\n                        onBlur={() => handleUpdateTitle(currentChatRoom.id)}\n                        onKeyPress={(e) => {\n                          if (e.key === 'Enter') {\n                            handleUpdateTitle(currentChatRoom.id);\n                          } else if (e.key === 'Escape') {\n                            setEditingTitle(null);\n                            setNewTitle('');\n                          }\n                        }}\n                        className=\"form-input\"\n                        autoFocus\n                        placeholder=\"채팅방 제목 입력\"\n                      />\n                    ) : (\n                      <>\n                        <h3>{currentChatRoom.title || '제목 없음'}</h3>\n                        <p className=\"chat-subtitle\">AI 어시스턴트와 대화 중</p>\n                      </>\n                    )\n                  ) : (\n                    <h3>채팅방을 선택하세요</h3>\n                  )}\n                </div>\n              </div>\n              <div className=\"chat-header-right\">\n                {currentChatRoom && (\n                  <>\n                    <button\n                      className=\"chat-settings\"\n                      onClick={() => setShowPersonalInfo(!showPersonalInfo)}\n                      title=\"개인정보 관리\"\n                    >\n                      <User size={20} />\n                    </button>\n                    <button \n                      className=\"chat-settings\"\n                      onClick={() => setIsSettingsOpen(!isSettingsOpen)}\n                    >\n                      <MoreVertical size={20} />\n                    </button>\n                    {isSettingsOpen && (\n                      <div className=\"settings-dropdown\">\n                        <button \n                          className=\"dropdown-item\"\n                          onClick={() => {\n                            setEditingTitle(currentChatRoom.id);\n                            setNewTitle(currentChatRoom.title || '');\n                            setIsSettingsOpen(false);\n                          }}\n                        >\n                          <Edit3 size={16} />\n                          제목 수정\n                        </button>\n                        <button className=\"dropdown-item disabled\">\n                          <Download size={16} />\n                          대화 내보내기\n                        </button>\n                        <div className=\"dropdown-divider\" />\n                        <button \n                          className=\"dropdown-item danger\"\n                          onClick={() => {\n                            handleDeleteChatRoom(currentChatRoom.id);\n                            setIsSettingsOpen(false);\n                          }}\n                        >\n                          <Trash2 size={16} />\n                          채팅방 삭제\n                        </button>\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n\n            <div className=\"chat-content\">\n              {showPersonalInfo && user ? (\n                <PersonalInfoManager userId={user.id} />\n              ) : currentChatRoom ? (\n                <div className=\"message-list\">\n                  {safeMessages.length === 0 ? (\n                    <div className=\"message-list-empty\">\n                      <div className=\"empty-state\">\n                        <MessageCircle size={48} className=\"empty-icon\" />\n                        <h3>대화를 시작해보세요!</h3>\n                        <p>궁금한 점이 있으시면 무엇이든 물어보세요.</p>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"messages-container\">\n                      {safeMessages.map((message, index) => (\n                        <div \n                          key={message.id || `message-${index}`} \n                          className={`message ${message.role === 'user' ? 'user-message' : 'bot-message'}`}\n                        >\n                          <div className={`message-avatar ${message.role === 'user' ? 'user-avatar' : 'bot-avatar'}`}>\n                            {message.role === 'user' ? \n                              (user?.username?.charAt(0).toUpperCase() || 'U') : \n                              'AI'\n                            }\n                          </div>\n                          <div className=\"message-content\">\n                            <div className=\"message-header\">\n                              <span className=\"message-sender\">\n                                {message.role === 'user' ? \n                                  (user?.username || '사용자') : \n                                  'AI Assistant'\n                                }\n                              </span>\n                              <span className=\"message-time\">\n                                {message.created_at ? \n                                  new Date(message.created_at).toLocaleTimeString() : \n                                  new Date().toLocaleTimeString()\n                                }\n                              </span>\n                            </div>\n                            <div className=\"message-body\">\n                              <p>{message.content || ''}</p>\n                              {message.hasPersonalContext && (\n                                <div className=\"personal-context-indicator\">\n                                  💡 개인정보를 참고하여 답변했습니다\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                      <div ref={messagesEndRef} />\n                    </div>\n                  )}\n\n                  {currentChatRoom && (\n                    <div className=\"message-input-container\">\n                      <form onSubmit={handleSendMessage} className=\"message-input-form\">\n                        <div className=\"input-actions-left\">\n                          <button type=\"button\" className=\"input-action-btn\" disabled>\n                            <Upload size={20} />\n                          </button>\n                        </div>\n                        <div className=\"message-input-wrapper\">\n                          <textarea\n                            ref={messageInputRef}\n                            value={messageInput}\n                            onChange={(e) => setMessageInput(e.target.value)}\n                            onKeyPress={handleKeyPressInTextarea}\n                            placeholder=\"메시지를 입력하세요...\"\n                            className=\"message-textarea\"\n                            rows=\"1\"\n                            disabled={loading}\n                          />\n                        </div>\n                        <div className=\"input-actions-right\">\n                          <button \n                            type=\"submit\" \n                            className=\"input-action-btn\"\n                            disabled={!messageInput.trim() || loading}\n                          >\n                            <Send size={20} />\n                          </button>\n                        </div>\n                      </form>\n                      <div className=\"input-help-text\">\n                        <span>Enter로 전송, Shift+Enter로 줄바꿈</span>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"chat-welcome\">\n                  <div className=\"welcome-content\">\n                    <div className=\"welcome-icon\">🤖</div>\n                    <h2>SeoulTech AI Assistant</h2>\n                    <p>서울과학기술대학교에 대해 궁금한 점이 있으신가요?</p>\n                    <p>채팅방을 선택하거나 새로운 대화를 시작해보세요!</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Modals */}\n        <Modal\n          isOpen={isNewChatModalOpen}\n          onClose={() => setIsNewChatModalOpen(false)}\n          title=\"새 채팅 시작\"\n        >\n          <form onSubmit={(e) => { e.preventDefault(); handleCreateChatRoom(); }} className=\"new-chat-form\">\n            <div className=\"form-group\">\n              <label className=\"form-label\">채팅방 제목</label>\n              <input\n                type=\"text\"\n                value={newChatTitle}\n                onChange={(e) => setNewChatTitle(e.target.value)}\n                placeholder=\"예: 학과 정보 문의\"\n                className=\"form-input\"\n                autoFocus\n              />\n            </div>\n            <div className=\"modal-actions\">\n              <button type=\"submit\" className=\"btn btn-primary\">\n                채팅 시작\n              </button>\n              <button \n                type=\"button\" \n                className=\"btn btn-ghost\"\n                onClick={() => setIsNewChatModalOpen(false)}\n              >\n                취소\n              </button>\n            </div>\n          </form>\n        </Modal>\n\n        {error && (\n          <ErrorMessage \n            error={error} \n            onClose={clearError}\n            type=\"error\"\n          />\n        )}\n      </div>\n    </Layout>\n  );\n};\n\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}