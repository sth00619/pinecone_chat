{"ast":null,"code":"var _jsxFileName = \"/Users/songtaeho/Documents/GitHub/pinecone_chat/client/src/components/pages/ChatPage.js\",\n  _s = $RefreshSig$();\n// client/src/components/pages/ChatPage.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useChat } from '../../hooks/useChat';\nimport Layout from '../../common/Layout';\nimport Loading from '../../common/Loading';\nimport ErrorMessage from '../../common/ErrorMessage';\nimport Modal from '../../common/Modal';\nimport PersonalInfoManager from '../PersonalInfoManager'; // 추가\nimport { Send, Menu, MessageCircle, Plus, Search, MoreVertical, Trash2, Edit3, Clock, X, Download, Upload, Settings, Info, User // 추가\n} from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    isAuthenticated\n  } = useAuth();\n  const {\n    chatRooms,\n    currentChatRoom,\n    messages,\n    loading,\n    error,\n    loadChatRooms,\n    createChatRoom,\n    selectChatRoom,\n    sendMessage,\n    updateChatRoomTitle,\n    deleteChatRoom,\n    clearError\n  } = useChat();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const [messageInput, setMessageInput] = useState('');\n  const [isNewChatModalOpen, setIsNewChatModalOpen] = useState(false);\n  const [newChatTitle, setNewChatTitle] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [editingTitle, setEditingTitle] = useState(null);\n  const [newTitle, setNewTitle] = useState('');\n  const [showPersonalInfo, setShowPersonalInfo] = useState(false); // 추가\n\n  const messagesEndRef = useRef(null);\n  const messageInputRef = useRef(null);\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    if (user !== null && user !== void 0 && user.id) {\n      loadChatRooms(user.id);\n    }\n  }, [isAuthenticated, user, navigate]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleCreateChatRoom = async () => {\n    if (!(user !== null && user !== void 0 && user.id)) return;\n    try {\n      const title = newChatTitle.trim() || '새로운 채팅';\n      const newRoom = await createChatRoom(user.id, title);\n      setNewChatTitle('');\n      setIsNewChatModalOpen(false);\n      await selectChatRoom(newRoom);\n    } catch (error) {\n      console.error('Failed to create chat room:', error);\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!messageInput.trim() || !currentChatRoom) return;\n    try {\n      var _messageInputRef$curr;\n      await sendMessage(messageInput.trim());\n      setMessageInput('');\n      (_messageInputRef$curr = messageInputRef.current) === null || _messageInputRef$curr === void 0 ? void 0 : _messageInputRef$curr.focus();\n    } catch (error) {\n      console.error('Failed to send message:', error);\n    }\n  };\n  const handleDeleteChatRoom = async chatRoomId => {\n    if (window.confirm('정말로 이 채팅방을 삭제하시겠습니까?')) {\n      try {\n        await deleteChatRoom(chatRoomId);\n      } catch (error) {\n        console.error('Failed to delete chat room:', error);\n      }\n    }\n  };\n  const handleUpdateTitle = async chatRoomId => {\n    if (newTitle.trim() && newTitle !== editingTitle) {\n      try {\n        await updateChatRoomTitle(chatRoomId, newTitle.trim());\n        setEditingTitle(null);\n        setNewTitle('');\n      } catch (error) {\n        console.error('Failed to update title:', error);\n      }\n    }\n  };\n  const filteredChatRooms = chatRooms.filter(room => room.title.toLowerCase().includes(searchQuery.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    showFooter: false,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-room\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-sidebar ${isSidebarOpen ? 'open' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uCC44\\uD305 \\uBAA9\\uB85D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"sidebar-close\",\n              onClick: () => setIsSidebarOpen(false),\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary btn-full-width\",\n              onClick: () => setIsNewChatModalOpen(true),\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uC0C8 \\uCC44\\uD305 \\uC2DC\\uC791\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-search\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-input-group\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                size: 16,\n                className: \"search-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\uCC44\\uD305\\uBC29 \\uAC80\\uC0C9...\",\n                value: searchQuery,\n                onChange: e => setSearchQuery(e.target.value),\n                className: \"search-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-content\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-list-loading\",\n              children: /*#__PURE__*/_jsxDEV(Loading, {\n                size: \"small\",\n                text: \"\\uB85C\\uB529 \\uC911...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this) : filteredChatRooms.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-list-empty\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                size: 48,\n                className: \"empty-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uCC44\\uD305\\uBC29\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\uC0C8\\uB85C\\uC6B4 \\uCC44\\uD305\\uC744 \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-list\",\n              children: filteredChatRooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `chat-list-item ${(currentChatRoom === null || currentChatRoom === void 0 ? void 0 : currentChatRoom.id) === room.id ? 'active' : ''}`,\n                onClick: () => selectChatRoom(room),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chat-item-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"chat-item-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"chat-item-title\",\n                      children: room.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"chat-item-time\",\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 195,\n                        columnNumber: 29\n                      }, this), new Date(room.updated_at).toLocaleDateString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 25\n                  }, this), room.last_message && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"chat-item-preview\",\n                    children: room.last_message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MessageCircle, {\n                  size: 16,\n                  className: \"chat-item-indicator\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 23\n                }, this)]\n              }, room.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-main ${isSidebarOpen ? 'sidebar-open' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"sidebar-toggle\",\n                onClick: () => setIsSidebarOpen(!isSidebarOpen),\n                children: /*#__PURE__*/_jsxDEV(Menu, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chat-title\",\n                children: currentChatRoom ? editingTitle === currentChatRoom.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newTitle,\n                  onChange: e => setNewTitle(e.target.value),\n                  onBlur: () => handleUpdateTitle(currentChatRoom.id),\n                  onKeyPress: e => e.key === 'Enter' && handleUpdateTitle(currentChatRoom.id),\n                  className: \"form-input\",\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: currentChatRoom.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"chat-subtitle\",\n                    children: \"AI \\uC5B4\\uC2DC\\uC2A4\\uD134\\uD2B8\\uC640 \\uB300\\uD654 \\uC911\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\uCC44\\uD305\\uBC29\\uC744 \\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-right\",\n              children: currentChatRoom && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"chat-settings\",\n                  onClick: () => setShowPersonalInfo(!showPersonalInfo),\n                  title: \"\\uAC1C\\uC778\\uC815\\uBCF4 \\uAD00\\uB9AC\",\n                  children: /*#__PURE__*/_jsxDEV(User, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"chat-settings\",\n                  onClick: () => setIsSettingsOpen(!isSettingsOpen),\n                  children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), isSettingsOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"settings-dropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dropdown-item\",\n                    onClick: () => {\n                      setEditingTitle(currentChatRoom.id);\n                      setNewTitle(currentChatRoom.title);\n                      setIsSettingsOpen(false);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 27\n                    }, this), \"\\uC81C\\uBAA9 \\uC218\\uC815\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dropdown-item disabled\",\n                    children: [/*#__PURE__*/_jsxDEV(Download, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 27\n                    }, this), \"\\uB300\\uD654 \\uB0B4\\uBCF4\\uB0B4\\uAE30\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dropdown-divider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"dropdown-item danger\",\n                    onClick: () => {\n                      handleDeleteChatRoom(currentChatRoom.id);\n                      setIsSettingsOpen(false);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 27\n                    }, this), \"\\uCC44\\uD305\\uBC29 \\uC0AD\\uC81C\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-content\",\n            children: showPersonalInfo && user ? /*#__PURE__*/_jsxDEV(PersonalInfoManager, {\n              userId: user.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this) : currentChatRoom ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-list\",\n              children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-list-empty\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"empty-state\",\n                  children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                    size: 48,\n                    className: \"empty-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\uAD81\\uAE08\\uD55C \\uC810\\uC774 \\uC788\\uC73C\\uC2DC\\uBA74 \\uBB34\\uC5C7\\uC774\\uB4E0 \\uBB3C\\uC5B4\\uBCF4\\uC138\\uC694.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"messages-container\",\n                children: [messages.map(message => {\n                  var _user$username;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `message ${message.role === 'user' ? 'user-message' : 'bot-message'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `message-avatar ${message.role === 'user' ? 'user-avatar' : 'bot-avatar'}`,\n                      children: message.role === 'user' ? user === null || user === void 0 ? void 0 : (_user$username = user.username) === null || _user$username === void 0 ? void 0 : _user$username.charAt(0).toUpperCase() : 'AI'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"message-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"message-header\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"message-sender\",\n                          children: message.role === 'user' ? user === null || user === void 0 ? void 0 : user.username : 'AI Assistant'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 320,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"message-time\",\n                          children: new Date(message.created_at).toLocaleTimeString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 323,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 319,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"message-body\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: message.content\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 328,\n                          columnNumber: 31\n                        }, this), message.hasPersonalContext && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"personal-context-indicator\",\n                          children: \"\\uD83D\\uDCA1 \\uAC1C\\uC778\\uC815\\uBCF4\\uB97C \\uCC38\\uACE0\\uD558\\uC5EC \\uB2F5\\uBCC0\\uD588\\uC2B5\\uB2C8\\uB2E4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 331,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 27\n                    }, this)]\n                  }, message.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: messagesEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this), currentChatRoom && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-input-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                  onSubmit: handleSendMessage,\n                  className: \"message-input-form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input-actions-left\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"input-action-btn\",\n                      disabled: true,\n                      children: /*#__PURE__*/_jsxDEV(Upload, {\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"message-input-wrapper\",\n                    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      ref: messageInputRef,\n                      value: messageInput,\n                      onChange: e => setMessageInput(e.target.value),\n                      onKeyPress: e => {\n                        if (e.key === 'Enter' && !e.shiftKey) {\n                          e.preventDefault();\n                          handleSendMessage(e);\n                        }\n                      },\n                      placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n                      className: \"message-textarea\",\n                      rows: \"1\",\n                      disabled: loading\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input-actions-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"input-action-btn\",\n                      disabled: !messageInput.trim() || loading,\n                      children: /*#__PURE__*/_jsxDEV(Send, {\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 374,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"input-help-text\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Enter\\uB85C \\uC804\\uC1A1, Shift+Enter\\uB85C \\uC904\\uBC14\\uAFC8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-welcome\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"welcome-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"welcome-icon\",\n                  children: \"\\uD83E\\uDD16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"SeoulTech AI Assistant\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uC11C\\uC6B8\\uACFC\\uD559\\uAE30\\uC220\\uB300\\uD559\\uAD50\\uC5D0 \\uB300\\uD574 \\uAD81\\uAE08\\uD55C \\uC810\\uC774 \\uC788\\uC73C\\uC2E0\\uAC00\\uC694?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uCC44\\uD305\\uBC29\\uC744 \\uC120\\uD0DD\\uD558\\uAC70\\uB098 \\uC0C8\\uB85C\\uC6B4 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uBCF4\\uC138\\uC694!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isNewChatModalOpen,\n        onClose: () => setIsNewChatModalOpen(false),\n        title: \"\\uC0C8 \\uCC44\\uD305 \\uC2DC\\uC791\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleCreateChatRoom();\n          },\n          className: \"new-chat-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"\\uCC44\\uD305\\uBC29 \\uC81C\\uBAA9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newChatTitle,\n              onChange: e => setNewChatTitle(e.target.value),\n              placeholder: \"\\uC608: \\uD559\\uACFC \\uC815\\uBCF4 \\uBB38\\uC758\",\n              className: \"form-input\",\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"\\uCC44\\uD305 \\uC2DC\\uC791\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-ghost\",\n              onClick: () => setIsNewChatModalOpen(false),\n              children: \"\\uCDE8\\uC18C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        error: error,\n        onClose: clearError,\n        type: \"error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"QSoBm8cMRdZ1nb6tptxkqQMAanY=\", false, function () {\n  return [useNavigate, useAuth, useChat];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useAuth","useChat","Layout","Loading","ErrorMessage","Modal","PersonalInfoManager","Send","Menu","MessageCircle","Plus","Search","MoreVertical","Trash2","Edit3","Clock","X","Download","Upload","Settings","Info","User","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatPage","_s","navigate","user","isAuthenticated","chatRooms","currentChatRoom","messages","loading","error","loadChatRooms","createChatRoom","selectChatRoom","sendMessage","updateChatRoomTitle","deleteChatRoom","clearError","isSidebarOpen","setIsSidebarOpen","messageInput","setMessageInput","isNewChatModalOpen","setIsNewChatModalOpen","newChatTitle","setNewChatTitle","searchQuery","setSearchQuery","isSettingsOpen","setIsSettingsOpen","editingTitle","setEditingTitle","newTitle","setNewTitle","showPersonalInfo","setShowPersonalInfo","messagesEndRef","messageInputRef","id","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleCreateChatRoom","title","trim","newRoom","console","handleSendMessage","e","preventDefault","_messageInputRef$curr","focus","handleDeleteChatRoom","chatRoomId","window","confirm","handleUpdateTitle","filteredChatRooms","filter","room","toLowerCase","includes","showFooter","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","type","placeholder","value","onChange","target","text","length","map","Date","updated_at","toLocaleDateString","last_message","onBlur","onKeyPress","key","autoFocus","userId","message","_user$username","role","username","charAt","toUpperCase","created_at","toLocaleTimeString","content","hasPersonalContext","ref","onSubmit","disabled","shiftKey","rows","isOpen","onClose","_c","$RefreshReg$"],"sources":["/Users/songtaeho/Documents/GitHub/pinecone_chat/client/src/components/pages/ChatPage.js"],"sourcesContent":["// client/src/components/pages/ChatPage.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useChat } from '../../hooks/useChat';\nimport Layout from '../../common/Layout';\nimport Loading from '../../common/Loading';\nimport ErrorMessage from '../../common/ErrorMessage';\nimport Modal from '../../common/Modal';\nimport PersonalInfoManager from '../PersonalInfoManager'; // 추가\nimport { \n  Send, \n  Menu, \n  MessageCircle, \n  Plus, \n  Search, \n  MoreVertical, \n  Trash2, \n  Edit3, \n  Clock,\n  X,\n  Download,\n  Upload,\n  Settings,\n  Info,\n  User // 추가\n} from 'lucide-react';\n\nconst ChatPage = () => {\n  const navigate = useNavigate();\n  const { user, isAuthenticated } = useAuth();\n  const { \n    chatRooms, \n    currentChatRoom, \n    messages, \n    loading, \n    error,\n    loadChatRooms,\n    createChatRoom,\n    selectChatRoom,\n    sendMessage,\n    updateChatRoomTitle,\n    deleteChatRoom,\n    clearError\n  } = useChat();\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const [messageInput, setMessageInput] = useState('');\n  const [isNewChatModalOpen, setIsNewChatModalOpen] = useState(false);\n  const [newChatTitle, setNewChatTitle] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [editingTitle, setEditingTitle] = useState(null);\n  const [newTitle, setNewTitle] = useState('');\n  const [showPersonalInfo, setShowPersonalInfo] = useState(false); // 추가\n  \n  const messagesEndRef = useRef(null);\n  const messageInputRef = useRef(null);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    \n    if (user?.id) {\n      loadChatRooms(user.id);\n    }\n  }, [isAuthenticated, user, navigate]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const handleCreateChatRoom = async () => {\n    if (!user?.id) return;\n    \n    try {\n      const title = newChatTitle.trim() || '새로운 채팅';\n      const newRoom = await createChatRoom(user.id, title);\n      setNewChatTitle('');\n      setIsNewChatModalOpen(false);\n      await selectChatRoom(newRoom);\n    } catch (error) {\n      console.error('Failed to create chat room:', error);\n    }\n  };\n\n  const handleSendMessage = async (e) => {\n    e.preventDefault();\n    \n    if (!messageInput.trim() || !currentChatRoom) return;\n    \n    try {\n      await sendMessage(messageInput.trim());\n      setMessageInput('');\n      messageInputRef.current?.focus();\n    } catch (error) {\n      console.error('Failed to send message:', error);\n    }\n  };\n\n  const handleDeleteChatRoom = async (chatRoomId) => {\n    if (window.confirm('정말로 이 채팅방을 삭제하시겠습니까?')) {\n      try {\n        await deleteChatRoom(chatRoomId);\n      } catch (error) {\n        console.error('Failed to delete chat room:', error);\n      }\n    }\n  };\n\n  const handleUpdateTitle = async (chatRoomId) => {\n    if (newTitle.trim() && newTitle !== editingTitle) {\n      try {\n        await updateChatRoomTitle(chatRoomId, newTitle.trim());\n        setEditingTitle(null);\n        setNewTitle('');\n      } catch (error) {\n        console.error('Failed to update title:', error);\n      }\n    }\n  };\n\n  const filteredChatRooms = chatRooms.filter(room => \n    room.title.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <Layout showFooter={false}>\n      <div className=\"chat-page\">\n        <div className=\"chat-room\">\n          {/* Sidebar */}\n          <div className={`chat-sidebar ${isSidebarOpen ? 'open' : ''}`}>\n            <div className=\"sidebar-header\">\n              <h3>채팅 목록</h3>\n              <button \n                className=\"sidebar-close\"\n                onClick={() => setIsSidebarOpen(false)}\n              >\n                <X size={20} />\n              </button>\n            </div>\n\n            <div className=\"sidebar-actions\">\n              <button \n                className=\"btn btn-primary btn-full-width\"\n                onClick={() => setIsNewChatModalOpen(true)}\n              >\n                <Plus size={16} />\n                <span>새 채팅 시작</span>\n              </button>\n            </div>\n\n            <div className=\"sidebar-search\">\n              <div className=\"search-input-group\">\n                <Search size={16} className=\"search-icon\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"채팅방 검색...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"search-input\"\n                />\n              </div>\n            </div>\n\n            <div className=\"sidebar-content\">\n              {loading ? (\n                <div className=\"chat-list-loading\">\n                  <Loading size=\"small\" text=\"로딩 중...\" />\n                </div>\n              ) : filteredChatRooms.length === 0 ? (\n                <div className=\"chat-list-empty\">\n                  <MessageCircle size={48} className=\"empty-icon\" />\n                  <h4>채팅방이 없습니다</h4>\n                  <p>새로운 채팅을 시작해보세요!</p>\n                </div>\n              ) : (\n                <div className=\"chat-list\">\n                  {filteredChatRooms.map(room => (\n                    <div\n                      key={room.id}\n                      className={`chat-list-item ${currentChatRoom?.id === room.id ? 'active' : ''}`}\n                      onClick={() => selectChatRoom(room)}\n                    >\n                      <div className=\"chat-item-content\">\n                        <div className=\"chat-item-header\">\n                          <h4 className=\"chat-item-title\">{room.title}</h4>\n                          <span className=\"chat-item-time\">\n                            <Clock size={12} />\n                            {new Date(room.updated_at).toLocaleDateString()}\n                          </span>\n                        </div>\n                        {room.last_message && (\n                          <p className=\"chat-item-preview\">{room.last_message}</p>\n                        )}\n                      </div>\n                      <MessageCircle size={16} className=\"chat-item-indicator\" />\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Main Chat Area */}\n          <div className={`chat-main ${isSidebarOpen ? 'sidebar-open' : ''}`}>\n            <div className=\"chat-header\">\n              <div className=\"chat-header-left\">\n                <button \n                  className=\"sidebar-toggle\"\n                  onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                >\n                  <Menu size={20} />\n                </button>\n                <div className=\"chat-title\">\n                  {currentChatRoom ? (\n                    editingTitle === currentChatRoom.id ? (\n                      <input\n                        type=\"text\"\n                        value={newTitle}\n                        onChange={(e) => setNewTitle(e.target.value)}\n                        onBlur={() => handleUpdateTitle(currentChatRoom.id)}\n                        onKeyPress={(e) => e.key === 'Enter' && handleUpdateTitle(currentChatRoom.id)}\n                        className=\"form-input\"\n                        autoFocus\n                      />\n                    ) : (\n                      <>\n                        <h3>{currentChatRoom.title}</h3>\n                        <p className=\"chat-subtitle\">AI 어시스턴트와 대화 중</p>\n                      </>\n                    )\n                  ) : (\n                    <h3>채팅방을 선택하세요</h3>\n                  )}\n                </div>\n              </div>\n              <div className=\"chat-header-right\">\n                {currentChatRoom && (\n                  <>\n                    <button\n                      className=\"chat-settings\"\n                      onClick={() => setShowPersonalInfo(!showPersonalInfo)}\n                      title=\"개인정보 관리\"\n                    >\n                      <User size={20} />\n                    </button>\n                    <button \n                      className=\"chat-settings\"\n                      onClick={() => setIsSettingsOpen(!isSettingsOpen)}\n                    >\n                      <MoreVertical size={20} />\n                    </button>\n                    {isSettingsOpen && (\n                      <div className=\"settings-dropdown\">\n                        <button \n                          className=\"dropdown-item\"\n                          onClick={() => {\n                            setEditingTitle(currentChatRoom.id);\n                            setNewTitle(currentChatRoom.title);\n                            setIsSettingsOpen(false);\n                          }}\n                        >\n                          <Edit3 size={16} />\n                          제목 수정\n                        </button>\n                        <button className=\"dropdown-item disabled\">\n                          <Download size={16} />\n                          대화 내보내기\n                        </button>\n                        <div className=\"dropdown-divider\" />\n                        <button \n                          className=\"dropdown-item danger\"\n                          onClick={() => {\n                            handleDeleteChatRoom(currentChatRoom.id);\n                            setIsSettingsOpen(false);\n                          }}\n                        >\n                          <Trash2 size={16} />\n                          채팅방 삭제\n                        </button>\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n\n            <div className=\"chat-content\">\n              {showPersonalInfo && user ? (\n                <PersonalInfoManager userId={user.id} />\n              ) : currentChatRoom ? (\n                <div className=\"message-list\">\n                  {messages.length === 0 ? (\n                    <div className=\"message-list-empty\">\n                      <div className=\"empty-state\">\n                        <MessageCircle size={48} className=\"empty-icon\" />\n                        <h3>대화를 시작해보세요!</h3>\n                        <p>궁금한 점이 있으시면 무엇이든 물어보세요.</p>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"messages-container\">\n                      {messages.map(message => (\n                        <div \n                          key={message.id} \n                          className={`message ${message.role === 'user' ? 'user-message' : 'bot-message'}`}\n                        >\n                          <div className={`message-avatar ${message.role === 'user' ? 'user-avatar' : 'bot-avatar'}`}>\n                            {message.role === 'user' ? user?.username?.charAt(0).toUpperCase() : 'AI'}\n                          </div>\n                          <div className=\"message-content\">\n                            <div className=\"message-header\">\n                              <span className=\"message-sender\">\n                                {message.role === 'user' ? user?.username : 'AI Assistant'}\n                              </span>\n                              <span className=\"message-time\">\n                                {new Date(message.created_at).toLocaleTimeString()}\n                              </span>\n                            </div>\n                            <div className=\"message-body\">\n                              <p>{message.content}</p>\n                              {/* 개인정보 참고 표시 - 여기에 추가! */}\n                              {message.hasPersonalContext && (\n                                <div className=\"personal-context-indicator\">\n                                  💡 개인정보를 참고하여 답변했습니다\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                      <div ref={messagesEndRef} />\n                    </div>\n                  )}\n\n                  {currentChatRoom && (\n                    <div className=\"message-input-container\">\n                      <form onSubmit={handleSendMessage} className=\"message-input-form\">\n                        <div className=\"input-actions-left\">\n                          <button type=\"button\" className=\"input-action-btn\" disabled>\n                            <Upload size={20} />\n                          </button>\n                        </div>\n                        <div className=\"message-input-wrapper\">\n                          <textarea\n                            ref={messageInputRef}\n                            value={messageInput}\n                            onChange={(e) => setMessageInput(e.target.value)}\n                            onKeyPress={(e) => {\n                              if (e.key === 'Enter' && !e.shiftKey) {\n                                e.preventDefault();\n                                handleSendMessage(e);\n                              }\n                            }}\n                            placeholder=\"메시지를 입력하세요...\"\n                            className=\"message-textarea\"\n                            rows=\"1\"\n                            disabled={loading}\n                          />\n                        </div>\n                        <div className=\"input-actions-right\">\n                          <button \n                            type=\"submit\" \n                            className=\"input-action-btn\"\n                            disabled={!messageInput.trim() || loading}\n                          >\n                            <Send size={20} />\n                          </button>\n                        </div>\n                      </form>\n                      <div className=\"input-help-text\">\n                        <span>Enter로 전송, Shift+Enter로 줄바꿈</span>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"chat-welcome\">\n                  <div className=\"welcome-content\">\n                    <div className=\"welcome-icon\">🤖</div>\n                    <h2>SeoulTech AI Assistant</h2>\n                    <p>서울과학기술대학교에 대해 궁금한 점이 있으신가요?</p>\n                    <p>채팅방을 선택하거나 새로운 대화를 시작해보세요!</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Modals */}\n        <Modal\n          isOpen={isNewChatModalOpen}\n          onClose={() => setIsNewChatModalOpen(false)}\n          title=\"새 채팅 시작\"\n        >\n          <form onSubmit={(e) => { e.preventDefault(); handleCreateChatRoom(); }} className=\"new-chat-form\">\n            <div className=\"form-group\">\n              <label className=\"form-label\">채팅방 제목</label>\n              <input\n                type=\"text\"\n                value={newChatTitle}\n                onChange={(e) => setNewChatTitle(e.target.value)}\n                placeholder=\"예: 학과 정보 문의\"\n                className=\"form-input\"\n                autoFocus\n              />\n            </div>\n            <div className=\"modal-actions\">\n              <button type=\"submit\" className=\"btn btn-primary\">\n                채팅 시작\n              </button>\n              <button \n                type=\"button\" \n                className=\"btn btn-ghost\"\n                onClick={() => setIsNewChatModalOpen(false)}\n              >\n                취소\n              </button>\n            </div>\n          </form>\n        </Modal>\n\n        {error && (\n          <ErrorMessage \n            error={error} \n            onClose={clearError}\n            type=\"error\"\n          />\n        )}\n      </div>\n    </Layout>\n  );\n};\n\nexport default ChatPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}